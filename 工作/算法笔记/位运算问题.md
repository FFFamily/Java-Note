# 题目一：交替位二进制数

编号：693

内容：给定一个正整数，检查它的二进制表示是否总是 0、1 交替出现：换句话说，就是二进制表示中相邻两位的数字永不相同。

时间：2022年03月28日第一次

关键字：模拟遍历、位运算

自己的代码

有个错误的地方就是，没办法处理最后一位，也就是除到最后剩下1时，循环就停止了，少判断了一下，但是我在最后做了一层判断，没有生效

```java
public boolean hasAlternatingBits(int n) {
  int pre = -1;
  int next = 0;
  while(n/2 != 0){
    next = n % 2;
    n = n / 2;
    if(next == pre){
      return false;
    }
    pre = next;
  }
  return pre != next;
}
```

官方代码

```java
class Solution {
    public boolean hasAlternatingBits(int n) {
        int prev = 2;
        while (n != 0) {
            int cur = n % 2;
            if (cur == prev) {
                return false;
            }
            prev = cur;
            n /= 2;
        }
        return true;
    }
}
```

位运算

当给定值 nn 为交替位二进制数时，将 nn 右移一位得到的值 mm 仍为交替位二进制数，且与原数 nn 错开一位，两者异或能够得到形如 0000...11110000...1111 的结果 xx，此时对 xx 执行加法（进位操作）能够得到形如 0000...100000000...10000 的结果，将该结果与 xx 执行按位能够得到全 00 结果。

```java
public boolean hasAlternatingBits(int n) {
  int a = n ^ (n >> 1);
  return (a & (a + 1)) == 0;
}
```



