

# 园区招商管理系统

既然是园区招商，一定要着重提下在园区招商这方面，

智慧园区招商体现在三个流程：招商前、招商中、招商后

招商前：

精准招商前需要分析：我们招什么，也就是园区中的项目， 

企业可以看到对应的招商的信息、园区可以发布一些招商信息，该信息来自一个个的项目，每个项目可以以不同的发布形式发布在网络中，以供企业了解。

招商中：业务员散步招商信息，通过不同的形式宣传招商信息，记录成一个个的线索，线索可以由多个业务员跟进，实时记录 园区实时监控招商进度，以及各方面的完成程度，

管理员（业务员）可以直接了解到招商信息

招商后：企业入驻园区开展项目



数据统计

统计查看合同未编辑的数量



## 数据库设计

### 系统管理

#### 权限信息表(com_auth)

| 表字段       | 数据库字段 | 备注 |
| ------------ | ---------- | ---- |
| 权限表id     | id         |      |
| 权限名称     | auth_name  |      |
| 权限请求地址 | auth_url   |      |
| 创建时间     | created_at |      |
| 更新时间     | updated_at |      |

```sql
create table `com_auth`(
	`id` varchar(15) primary key,
  `auth_name` varchar(20) comment '权限名称',
  `auth_url` varchar(20) comment '权限地址',
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



#### 用户信息表（com_user）

1，创建企业之后，生成随机的用户名称/用户密码，用户使用该信息登录，之后绑定手机号

| 表字段   | 数据库字段   | 备注                   |
| -------- | ------------ | ---------------------- |
| 用户表id | id           |                        |
| 用户名称 | user_name    | 随机生成               |
| 所属企业 | company_id   |                        |
| 手机号码 | user_phone   | 在用户第一次登录时绑定 |
| 登录密码 | pass_word    | 默认登录密码（123456） |
| 企业名称 | company_name |                        |
| 创建时间 | created_at   |                        |
| 更新时间 | updated_at   |                        |

```sql
create table `com_user` (
	`id` varchar(15) primary key,
  `user_name` varchar(20) comment '用户名',
  `user_phone` varchar(11) comment '手机号',
  `pass_word` varchar(20) comment '密码',
  `company_id` varchar(15) comment '公司编号',
  `company_name` varchar(20) comment '公司名称',
  `role_type` tinyint(1) comment '角色（0为管理员/1为用户）'，
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



#### 用户权限表（user_role_info）

| 表字段   | 数据库字段 | 备注 |
| -------- | ---------- | ---- |
| 表编号   | id         |      |
| 用户编号 | user_id    |      |
| 权限编号 | auth_id    |      |
| 创建时间 | created_at |      |
| 更新时间 | updated_at |      |

sql

```sql
create table `user_role_info`(
	`id` varchar(15) primary key,
  `user_id` varchar(15),
  `auth_id` varchar(15),
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



### 企业管理

#### 企业信息表（company_info）

可以通过企业信息看看其是否入驻，没有则可以进行招聘操作

| 表字段               | 数据库字段       |      |
| -------------------- | ---------------- | ---- |
| 表编号               | id               |      |
| 企业名称             | company_name     | 1    |
| 企业社会统一信用代码 | company_code     | 1    |
| 是否注册             | is_register      | 1    |
| 法人代表             | iegal_person     | 1    |
| 企业类型             | company_type     | 1    |
| 企业负责人           | company_person   | 1    |
| 营业执照（url地址）  | business_license | 1    |
| 联系电话             | iegal_phone      | 1    |
| 入驻开始时间         | settled_start    | 1    |
| 入驻结束时间         | settled_end      | 1    |
| 楼宇编号             | building_id      | 1    |
| 组织机构代码         | org_code         | 1    |
| 企业状态             | company_state    | 1    |
| 原地址               | old_address      | 1    |
| 是否入驻             | isSettled        | 1    |
| 创建时间             | created_at       | 1    |
| 更新时间             | updated_at       | 1    |



详细设计

企业信息录入、企业信息变更、企业信息撤销、企业信息查询

规定是：园区管理员添加企业信息，然后生成账号，企业可以申请多个账号，账号和企业id绑定

sql

```sql
create table `company_info` (
	`id` varchar(15) primary key comment '编号',
  `company_name` varchar(20) comment '名称',
  `company_code` varchar(20),
  `company_state` tinyint(1),
  `company_type` tinyint(1),
  `company_person` varchar(10),
  `org_code` varchar(20),
  `business_license` varchar(10),
  `iegal_person` varchar(10),
  `iegal_phone` varchar(11),
  `is_register` tinyint(1),
  `settled_start` datetime default null,
  `settled_end` datetime default null,
  `old_address` varchar(50),
  `building_id` varchar(15)，
  `isSettled` tinyint(1) comment '是否入驻(1是/0否)'
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



### 合同管理

#### 合同信息表（contract_info）

用户同样也要上传对应的合同电子文件，文件地址存放的就是这个url，阿里云oss存储

| 表名称                           | 表字段           | 备注 |
| -------------------------------- | ---------------- | ---- |
| 表编号                           | id               |      |
| 合同名称                         | contract_name    |      |
| 合同状态                         | contract_state   |      |
| 物管合同号（物理存放合同的编号） | contract_address |      |
| 签订日期                         | contract_time    |      |
| 合同生效日期                     | time_start       |      |
| 合同失效日期                     | time_end         |      |
| 租赁方类型（租赁类型：人/公司）  | contract_type    | 0    |
| 企业编号                         | company_id       |      |
| 企业名称                         | company_name     |      |
| 文件地址                         | url              |      |
| 创建时间                         | created_at       |      |
| 更新时间                         | updated_at       |      |

sql

```sql
drop table if exists contract_info;
create table `contract_info`(
	`id` varchar(50) primary key comment '编号',
  `contract_name` varchar(50) comment '合同名称',
  `contract_state` varchar(10) comment '合同状态',
  `contract_address` varchar(50) comment '物管合同号',
  `time_start` datetime comment '合同生效日期',
  `time_end` datetime comment '合同结束日期',
  `company_id` varchar(50) comment '企业编号',
  `company_name` varchar(50) comment '企业名称',
  `url` varchar(250) comment '文件地址',
  `created_at` datetime default null comment '签订日期',
  `updated_at` datetime default null
)
```



#### 合同审批表（contract_approval_info）

用户能够很好的看到流程的审批过程，以及每次操作的内容，比如这一次被驳回，能看到什么时候被驳回，驳回的原因是什么

管理员可以查询审批列表，或者合同表标注对应的状态

| 表名称                   | 表字段             |
| ------------------------ | ------------------ |
| 表编号                   | id                 |
| 合同编号                 | contract_id        |
| 合同名称                 | contract_name      |
| 合同原状态（待审批作废） | contract_old_state |
| 合同现状态               | contract_new_state |
| 申请原因                 | app_reason         |
| 退回原因                 | fail_back_reason   |
| 处理人（用户编号）       | user_id            |
| 处理人名称               | user_name          |
| 处理时间（创建时间）     | creaed_at          |
| 更新时间                 | updated_at         |

操作类型：变更（编辑）、作废、退租

以及有关租费的问题，收费，订单，

合同状态：审核中，被查看，已通过，被驳回，已完成

sql

```sql
create table `contract_approval_info`(
	`id` varchar(15) prima,
  `contract_id` varchar(15),
  `contract_name` varchar(20),
  `contract_old_state` tinyint(1),
  `contract_new_state` tinyint(1),
  `app_reason` varchar(50),
  `fail_back_reason` varchar(50),
  `user_id` varchar(15),
  `user_name` varchar(20),
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```







----



### 园区管理

#### 园区信息表（park_info）

| 表名称   | 表字段       | 备注 |
| -------- | ------------ | ---- |
| 表编号   | id           |      |
| 园区名称 | park_name    |      |
| 园区地址 | park_address |      |
| 园区面积 | park_size    |      |
| 创建时间 | created_at   |      |
| 更新时间 | updated_at   |      |

sql

```sql
drop table if exists park_info;
create table `park_info`(
	`id` varchar(50) primary key comment '编号',
  `park_name` varchar(20) comment '园区名称',
  `park_address` varchar(50) comment '园区地址',
  `park_size` varchar(10) comment '园区大小（亩）',
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```





#### 楼宇信息表（building_info）

| 表名称         | 表字段     | 备注 |
| -------------- | ---------- | ---- |
| 表编号         | id         |      |
| 所属园区       | park_id    |      |
| 楼宇名称       | build_name |      |
| 楼宇负责人     | user_id    |      |
| 楼宇负责人姓名 | user_name  |      |
| 创建时间       | created_at |      |
| 更新时间       | updated_at |      |

```sql
drop table if exists building_info;
create table `building_info`(
	`id` varchar(50) primary key comment '编号',
  `park_id` varchar(50) comment '所属园区',
  `park_name` varchar(50) comment '园区名称',
  `build_name` varchar(50) comment '楼宇名称',
  `user_id` varchar(50) comment '楼宇负责人',
  `user_name` varchar(50) comment '楼宇负责人姓名',
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



#### 房间信息表（room_info）

| 表名称       | 表字段         | 备注                 |
| ------------ | -------------- | -------------------- |
| 表编号       | id             |                      |
| 房间编号     | room_code      | 和表字段不是一个概念 |
| 所属楼宇     | park_id        |                      |
| 楼层         | room_floor_num |                      |
| 面积         | room_size      | 平                   |
| 租赁公司     | company_id     |                      |
| 租赁公司名称 | company_name   |                      |
| 租赁状态     | room_state     |                      |
| 是否上架     | is_enable      |                      |
| 上架时间     |                |                      |
| 创建时间     | created_at     |                      |
| 更新时间     | updated_at     |                      |

sql

```sql
drop table if exists room_info;
create table `room_info`(
	`id` varchar(50) primary key comment '编号',
  `room_code` varchar(50) comment '房间编号（楼层-房间数）',
  `park_id` varchar(15) comment '所属园区',
  `room_floor_num` int comment '楼层',
  `room_size` int comment '房间大小（平方米）',
  `company_id` varchar(15) comment '租赁公司编号',
  `company_name` varchar(50) comment '租赁公司名称',
  `room_state` tinyint(1) comment '租赁状态',
  `is_enable` tinyint(1) comment '是否上架',
  `created_at` datetime default null,
  `updated_at` datetime default null
)
```



----

### 招商管理

可以根据这些线索做一些数据统计

管理员（业务员）可以选择跟进，这样就是实现线索和业务员绑定

管理员可以实现分派，分派给某个人员使用。

#### 园区招商概况表

展示各个园区楼宇楼层的招商信息，数目之类的





#### 线索信息表（clue_info）

线索信息表ID、客户名称、主题（线索内容）、联系人、联系电话、线索来源（同样是）、线索状态（）、备注（一般是备注关闭原因，这个可以做成可选项，这样就方便数据统计，类似于商标中的驳回/部分驳回）

可以有多个用户跟进，即多个人负责

| 表名称           | 表字段          | 备注             |
| ---------------- | --------------- | ---------------- |
| 表编号           | id              |                  |
| 线索来源         | clue_from       | 可选项           |
| 线索状态         | clue_state      | 激活/更近中/关闭 |
| 线索内容（主题） | clue_content    |                  |
| 客户姓名         | customer_name   |                  |
| 联系电话         | customer_phone  |                  |
| 线索提供者编号   | created_by      |                  |
| 线索提供者姓名   | created_by_name |                  |
| 创建时间         | created_at      |                  |
| 更细时间         | updated_at      |                  |

sql

```sql
create table `clue_info`(
    `id` varchar(50) primary key comment '表编号',
    `clue_from` varchar(50) comment '线索来源',
    `clue_state` varchar(50) comment '线索状态',
    `clue_content` varchar(50) comment '线索内容（主题）',
    `customer_name` varchar(10) comment '客户名称',
    `customer_phone` varchar(20) comment '客户手机号',
    `created_by` varchar(50) comment '线索创建者',
    `created_by_name` varchar(20) comment '线索创建者名称',
    `created_at` datetime default null,
    `updated_at` datetime default null
)
```



#### 线索中间表（clue_join_info）

| 表名称     | 表字段     | 备注 |
| ---------- | ---------- | ---- |
| 表编号     | id         |      |
| 线索表编号 | clue_id    |      |
| 跟进表编号 | join_id    |      |
| 创建时间   | created_at |      |
| 更新时间   | updated_at |      |

数据库

```sql
create table `clue_join_info`(
    `id` varchar(50) primary key comment '表编号',
    `clue_id` varchar(50) comment '线索表编号',
    `join_id` varchar(50) comment '跟进表编号',
    `created_at` datetime default null,
    `updated_at` datetime default null
)
```



#### 线索跟进表（join_info）

在创建线索之后，线索的来源有很多，但是跟进的方式不需要管，不用在意业务员怎么去跟进信息

| 表名称       | 表字段          | 备注                                  |
| ------------ | --------------- | ------------------------------------- |
| 表编号       | id              |                                       |
| 跟进人编号   | user_id         |                                       |
| 跟进人名称   | user_name       |                                       |
| 意向水平     | intention_level |                                       |
| 跟进方式     | join_type       |                                       |
| 跟进记录信息 | join_context    | 是否可以通过这个做 一个线索跟进的图表 |
| 创建时间     | created_at      |                                       |
| 更新时间     | updated_at      |                                       |

数据库

```sql
create table `join_info`(
    `id` varchar(50) primary key comment '表编号',
    `user_id` varchar(50) comment '跟进人编号',
    `user_name` varchar(50) comment '跟进人姓名',
    `intention_level` varchar(50) comment '意向水平',
    `join_type` varchar(10) comment '跟进方式',
    `join_context` varchar(20) comment '跟进记录信息',
    `created_at` datetime default null comment '跟进时间',
    `updated_at` datetime default null
);
```



#### 园区项目信息表（project_info）

| 表名称           | 表字段      | 备注                           |
| ---------------- | ----------- | ------------------------------ |
| 表编号           | id          |                                |
| 项目名称         | pro_name    |                                |
| 项目招商单位     | pro_com     | 为空则证明该项目没有被落实企业 |
| 项目招商单位简介 | pro_info    |                                |
| 项目招商内容     | pro_context |                                |
| 招商引资联系人   | pro_people  |                                |
| 招商引资联系方式 | pro_phone   |                                |
| 创建时间         | created_at  |                                |
| 更新时间         | updated_at  |                                |

编码

```sql
create table `project_info`(
    `id` varchar(50) primary key comment '编号',
    `pro_name` varchar(50) comment '项目名称',
    `pro_context` text comment '项目介绍',
    `pro_people` varchar(10) comment '联系人',
    `pro_phone` varchar(20) comment '联系方式',
    `pro_com` varchar(50) comment '项目承包单位',
    `created_at` datetime default null,
    `updated_at` datetime default null
);
```



### 政策管理

那是否可以将新闻划分一下

新闻作为主表，活动表以及招商表



#### 政策管理--主表（policy_info）

| 表名称   | 表字段      | 备注 |
| -------- | ----------- | ---- |
| 表编号   | id          |      |
| 政策类型 | policy_type |      |
| 是否上架 | is_enabled  |      |
| 上架时间 | created_at  |      |
| 发布人   | created_by  |      |
| 更新时间 | updated_at  |      |

执行语句

```sql
create table policy_info(
    `id` varchar(50) primary key comment '表编号',
    `policy_type` tinyint(1) comment '政策类型（1新闻/0招商）',
    `is_enabled` tinyint(1) comment '是否上架',
    `created_by` varchar(50) comment '发布人',
    `created_by_name` varchar(50) comment '发布人名称',
    `created_at` datetime default null,
    `updated_at` datetime default null
);
```



#### 新闻政策信息表--附表(policy_news)

| 表名称     | 表字段       | 备注 |
| ---------- | ------------ | ---- |
| 表编号     | id           |      |
| 政策表编号 | policy_id    |      |
| 新闻标题   | news_title   |      |
| 新闻内容   | news_context |      |
| 新闻须知   | news_notes   |      |
| 涉及范围   | news_range   |      |
| 创建时间   | created_at   |      |
| 更新时间   | updated_at   |      |

执行语句

```sql
create table policy_news(
    `id` varchar(50) primary key comment '表编号',
    `policy_id` varchar(50) comment '政策主表编号',
    `news_title` varchar(50) comment '新闻标题',
    `news_context` text comment '新闻内容',
    `news_notes` text comment '新闻须知',
    `news_range` text comment '涉及范围',
    `created_at` datetime default null,
    `updated_at` datetime default null
);
```



#### 招商政策信息表--附表(policy_att)

| 表名称     | 表字段       | 备注                                                    |
| ---------- | ------------ | ------------------------------------------------------- |
| 表编号     | id           |                                                         |
| 政策表编号 | policy_id    |                                                         |
| 招商标题   | att_title    |                                                         |
| 招商内容   | att_context  |                                                         |
| 发布平台   | pub_platform | 平台就是其发布新闻的地方，比如牛客、LeetCode            |
| 链接地址   | pub_url      | 以URL的形式，或者图片【图片也是上传到阿里云的回执地址】 |
| 创建时间   | created_at   |                                                         |
| 更新时间   | updated_at   |                                                         |

执行语句

```sql
create table policy_att(
    `id` varchar(50) primary key comment '表编号',
    `policy_id` varchar(50) comment '政策主表编号',
    `project_id` varchar(50) comment '项目编号',
    `project_name` varchar(50) comment '项目名称',
    `att_title` varchar(50) comment '招商标题',
    `att_context` text comment '招商内容',
    `pub_platform` text comment '发布平台',
    `pub_url` text comment '链接地址',
    `created_at` datetime default null,
    `updated_at` datetime default null
);
```



### 投诉管理（complaint_info）

| 表名称   | 表字段            | 备注                        |
| -------- | ----------------- | --------------------------- |
| 表编号   | id                |                             |
| 用户编号 | company_id        |                             |
| 用户名称 | company_name      |                             |
|          |                   |                             |
| 投诉标题 | complaint_title   |                             |
| 投诉内容 | complaint_context |                             |
| 处理状态 | state             | 指派中/处理中/已驳回/已完成 |
| 创建时间 | created_at        |                             |
| 更新时间 | updated_at        |                             |

sql

```sql
create table complaint_info(
    `id` varchar(50) primary key comment '表编号',
    `user_id` varchar(50) comment '投诉人编号',
    `user_name` varchar(50) comment '投诉人名称',
    `complaint_title` varchar(50) comment '投诉标题',
    `complaint_context` varchar(50) comment '投诉内容',
    `state` varchar(10) comment '处理状态',
    `created_by` varchar(50) comment '处理人',
    `created_by_name` varchar(50) comment '处理人名称',
    `created_at` datetime default null,
    `updated_at` datetime default null
)
```

